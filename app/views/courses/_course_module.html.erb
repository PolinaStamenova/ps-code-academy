<%# --- Course Modules --- %>

<h2 class='text-xl font-medium text-black'>Modules </h2>

<ul class='rounded-lg flex flex-col gap-2'>
  <% @course.course_modules.each do |course_module| %>
    <li class='bg-purple-200 rounded-lg hover:bg-purple-300' data-controller="chevron-down">
      <div class='flex flex justify-between items-center py-2 px-4'>
        <div class='flex gap-2 items-center '>
          <i class='fa-solid fa-chevron-down cursor-pointer' data-action="click->chevron-down#chevron" data-chevron-down-target="chevron"></i>
          <p class='font-medium'><%= course_module.name %></p>
        </div>

        <%= course_module.module_lessons.count %> <%= course_module.module_lessons.one? ? 'lesson' : 'lessons' %>
      </div>

      <%# --- List of Module Lessons --- %>
      <%= render partial: 'module_lessons_list', locals: { course: @course, course_module: course_module  } %>
    </li>
  <% end %>
</ul>

